(()=>{"use strict";const t=e=>{const n=Object.getOwnPropertyNames(e);for(const r of n){const n=e[r];n&&"object"==typeof n&&t(n)}return Object.freeze(e)},e=(t,n,r=".")=>{let o=t.split(r)[0],i=t.split(r).slice(1).join(r);if(null!=n[o]){let c=e(i,n[o],r);return!0===c?{object:n,property:o,path:t,separator:r,value:n[o]}:c}return t==i},n=t=>{if("object"!=typeof t)return[];let e=[];for(let r in t){let o=t[r];if("object"==typeof o)n(o).forEach((t=>{e.push({path:[r,t.path].flat(),value:t.value,type:typeof t.value})}));else{let t={path:r,value:o,type:typeof o};e.push(t)}}return e};function r(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}const o={NONE:"",DESCENDANT:" ",CHILD:" > "},i={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},c="CssSelectorGenerator";function l(t="unknown problem",...e){console.warn(`${c}: ${t}`,...e)}const u={selectors:[i.id,i.class,i.tag,i.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY};function s(t){return t instanceof RegExp}function a(t){return["string","function"].includes(typeof t)||s(t)}function f(t){return Array.isArray(t)?t.filter(a):[]}function d(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function p(t,e){if(d(t))return t.contains(e)||l("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return d(n)?(n!==document&&l("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):E(e)}function m(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function h(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function g(t){return[].concat(...t)}function y(t){const e=t.map((t=>{if(s(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(l("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return l("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function b(t,e,n){const r=Array.from(p(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function N(t,e){e=null!=e?e:E(t);const n=[];let o=t;for(;r(o)&&o!==e;)n.push(o),o=o.parentElement;return n}function w(t,e){return h(t.map((t=>N(t,e))))}function E(t){return t.ownerDocument.querySelector(":root")}const S=new RegExp(["^$","\\s"].join("|")),v=new RegExp(["^$"].join("|")),I=[i.nthoftype,i.tag,i.id,i.class,i.attribute,i.nthchild],O=y(["class","id","ng-*"]);function T({name:t}){return`[${t}]`}function C({name:t,value:e}){return`[${t}='${e}']`}function j({nodeName:t,nodeValue:e}){return{name:q(t),value:q(null!=e?e:void 0)}}function A(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||O(t))}(e,t))).map(j);return[...e.map(T),...e.map(C)]}function x(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!v.test(t))).map((t=>`.${q(t)}`))}function _(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${q(n)}`,o=t.getRootNode({composed:!1});return!S.test(n)&&b([t],r,o)?[r]:[]}function $(t){const e=t.parentNode;if(e){const n=Array.from(e.childNodes).filter(r).indexOf(t);if(n>-1)return[`:nth-child(${String(n+1)})`]}return[]}function k(t){return[q(t.tagName.toLowerCase())]}function D(t){const e=[...new Set(g(t.map(k)))];return 0===e.length||e.length>1?[]:[e[0]]}function R(t){const e=D([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function P(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=F(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=L(r,t.length-1)}}(t,{maxResults:e}))}function L(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return F(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?F(n+1):r}function F(t=1){return Array.from(Array(t).keys())}const V=":".charCodeAt(0).toString(16).toUpperCase(),M=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function q(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${V} `:M.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const B={tag:D,id:function(t){return 0===t.length||t.length>1?[]:_(t[0])},class:function(t){return h(t.map(x))},attribute:function(t){return h(t.map(A))},nthchild:function(t){return h(t.map($))},nthoftype:function(t){return h(t.map(R))}},H={tag:k,id:_,class:x,attribute:A,nthchild:$,nthoftype:R};function W(t){return t.includes(i.tag)||t.includes(i.nthoftype)?[...t]:[...t,i.tag]}function Y(t={}){const e=[...I];return t[i.tag]&&t[i.nthoftype]&&e.splice(e.indexOf(i.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function z(t,e,n="",r){const i=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+o.DESCENDANT+t)),...t.map((t=>e+o.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=y(n),l=y(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,B[e])(t)}(t,n),u=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,l),s=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(u,l);return e[n]=o?P(s,{maxResults:i}):s.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?P(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(W):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(Y)}(e,t))).filter((t=>t.length>0))}(r,n),i=g(o);return[...new Set(i)]}(t,0,r),n);for(const n of i)if(b(t,n,e))return n;return null}function U(t){return{value:t,include:!1}}function G({selectors:t,operator:e}){let n=[...I];t[i.tag]&&t[i.nthoftype]&&(n=n.filter((t=>t!==i.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function J(t){return[":root",...N(t).reverse().map((t=>{const e=function(t,e,n=o.NONE){const r={};return e.forEach((e=>{Reflect.set(r,e,function(t,e){return H[e](t)}(t,e).map(U))})),{element:t,operator:n,selectors:r}}(t,[i.nthchild],o.CHILD);return e.selectors.nthchild.forEach((t=>{t.include=!0})),e})).map(G)].join("")}const K={Util:{deepFreeze:t,getProperty:e,getAllPath:n},Walker:{walkHorizontally:async(t={_scope_:null})=>{let e=[];return Object.keys(t).filter((t=>!["_scope_"].includes(t))).forEach((n=>{[...t._scope_.querySelectorAll(n)].filter((t=>t)).forEach((t=>{e.push({element:t,selector:new String(n)})}))})),await Promise.all(e.map((e=>new Promise((async(n,r)=>{try{await t[e.selector]({element:e.element,selector:e.selector,self:t}),n(e.selector)}catch(t){console.info("walkHorizontally |",t)}}))))),t},walkVertically:async(t={_scope_:null})=>{for(let e of Object.keys(t).filter((t=>!["_scope_"].includes(t)))){let n=[...t._scope_.querySelectorAll(e)].filter((t=>t));for(let r of n)try{await t[e]({element:r,selector:new String(e),self:t})}catch(t){console.info("walkVertically |",t)}}return t}},Selector:{getCssSelector:function t(e,n={}){var o;const c=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(r);return[...new Set(e)]}(e),l=function(t,e={}){const n=Object.assign(Object.assign({},u),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=i,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:f(n.whitelist),blacklist:f(n.blacklist),root:p(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:m(n.maxCombinations),maxCandidates:m(n.maxCandidates)};var r}(c[0],n),s=null!==(o=l.root)&&void 0!==o?o:E(c[0]);let a="",d=s;function h(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...w(t,e).map((t=>[t]))];for(const t of o){const o=z(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(c,d,a,l)}let g=h();for(;g;){const{foundElements:t,selector:e}=g;if(b(c,e,s))return e;d=t[0],a=e,g=h()}return c.length>1?c.map((e=>t(e,l))).join(", "):function(t){return t.map(J).join(", ")}(c)}}};window.dispatchEvent(new CustomEvent("BlueFoxJs@Ready",{detail:{BlueFoxJs:K}}))})();