var t={249:function(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(480)}catch(t){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},a=s.lib={},c=a.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=s<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(o());return new l.init(e,t)}}),p=s.enc={},u=p.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},f=p.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},y=p.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},h=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=y.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,o=n.words,i=n.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,p=t.min(4*c,i);if(c){for(var u=0;u<c;u+=s)this._doProcessBlock(o,u);r=o.splice(0,c),n.sigBytes-=p}return new l.init(r,p)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(a.Hasher=h.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new d.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),n)},214:function(t,e,r){var n;t.exports=(n=r(249),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=t[e+0],c=t[e+1],y=t[e+2],h=t[e+3],d=t[e+4],m=t[e+5],b=t[e+6],w=t[e+7],g=t[e+8],v=t[e+9],j=t[e+10],_=t[e+11],E=t[e+12],O=t[e+13],x=t[e+14],S=t[e+15],A=i[0],k=i[1],$=i[2],B=i[3];A=l(A,k,$,B,s,7,a[0]),B=l(B,A,k,$,c,12,a[1]),$=l($,B,A,k,y,17,a[2]),k=l(k,$,B,A,h,22,a[3]),A=l(A,k,$,B,d,7,a[4]),B=l(B,A,k,$,m,12,a[5]),$=l($,B,A,k,b,17,a[6]),k=l(k,$,B,A,w,22,a[7]),A=l(A,k,$,B,g,7,a[8]),B=l(B,A,k,$,v,12,a[9]),$=l($,B,A,k,j,17,a[10]),k=l(k,$,B,A,_,22,a[11]),A=l(A,k,$,B,E,7,a[12]),B=l(B,A,k,$,O,12,a[13]),$=l($,B,A,k,x,17,a[14]),A=p(A,k=l(k,$,B,A,S,22,a[15]),$,B,c,5,a[16]),B=p(B,A,k,$,b,9,a[17]),$=p($,B,A,k,_,14,a[18]),k=p(k,$,B,A,s,20,a[19]),A=p(A,k,$,B,m,5,a[20]),B=p(B,A,k,$,j,9,a[21]),$=p($,B,A,k,S,14,a[22]),k=p(k,$,B,A,d,20,a[23]),A=p(A,k,$,B,v,5,a[24]),B=p(B,A,k,$,x,9,a[25]),$=p($,B,A,k,h,14,a[26]),k=p(k,$,B,A,g,20,a[27]),A=p(A,k,$,B,O,5,a[28]),B=p(B,A,k,$,y,9,a[29]),$=p($,B,A,k,w,14,a[30]),A=u(A,k=p(k,$,B,A,E,20,a[31]),$,B,m,4,a[32]),B=u(B,A,k,$,g,11,a[33]),$=u($,B,A,k,_,16,a[34]),k=u(k,$,B,A,x,23,a[35]),A=u(A,k,$,B,c,4,a[36]),B=u(B,A,k,$,d,11,a[37]),$=u($,B,A,k,w,16,a[38]),k=u(k,$,B,A,j,23,a[39]),A=u(A,k,$,B,O,4,a[40]),B=u(B,A,k,$,s,11,a[41]),$=u($,B,A,k,h,16,a[42]),k=u(k,$,B,A,b,23,a[43]),A=u(A,k,$,B,v,4,a[44]),B=u(B,A,k,$,E,11,a[45]),$=u($,B,A,k,S,16,a[46]),A=f(A,k=u(k,$,B,A,y,23,a[47]),$,B,s,6,a[48]),B=f(B,A,k,$,w,10,a[49]),$=f($,B,A,k,x,15,a[50]),k=f(k,$,B,A,m,21,a[51]),A=f(A,k,$,B,E,6,a[52]),B=f(B,A,k,$,h,10,a[53]),$=f($,B,A,k,j,15,a[54]),k=f(k,$,B,A,c,21,a[55]),A=f(A,k,$,B,g,6,a[56]),B=f(B,A,k,$,S,10,a[57]),$=f($,B,A,k,b,15,a[58]),k=f(k,$,B,A,O,21,a[59]),A=f(A,k,$,B,d,6,a[60]),B=f(B,A,k,$,_,10,a[61]),$=f($,B,A,k,y,15,a[62]),k=f(k,$,B,A,v,21,a[63]),i[0]=i[0]+A|0,i[1]=i[1]+k|0,i[2]=i[2]+$|0,i[3]=i[3]+B|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),s=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var p=c[l];c[l]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,r,n,o,i,s){var a=t+(e&r|~e&n)+o+s;return(a<<i|a>>>32-i)+e}function p(t,e,r,n,o,i,s){var a=t+(e&n|r&~n)+o+s;return(a<<i|a>>>32-i)+e}function u(t,e,r,n,o,i,s){var a=t+(e^r^n)+o+s;return(a<<i|a>>>32-i)+e}function f(t,e,r,n,o,i,s){var a=t+(r^(e|~n))+o+s;return(a<<i|a>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},480:()=>{}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{r.d(n,{fB:()=>B,hi:()=>C,S3:()=>T,ei:()=>P,qz:()=>q,rP:()=>z});const t=(e,r,n=".")=>{let o=e.split(n)[0],i=e.split(n).slice(1).join(n);if(null!=r[o]){let s=t(i,r[o],n);return!0===s?{object:r,property:o,path:e,separator:n,value:r[o]}:s}return e==i};class e{constructor(){this.J=null,this.take=[],this.actions=null,this.dispatchEvents=null,this.msec=null,this.sleep=t=>new Promise((e=>setTimeout(e,t))),this.actionHandler={set:async e=>{let r=document.querySelector(e.target);if(r){if(e.property)for(let n in e.property){let o=t(n,r);if(o.object){o.object[o.property]=e.property[n];for(let t of this.dispatchEvents)r.dispatchEvent(new Event(t,{bubbles:!0}))}}if(e.attribute)for(let t in e.attribute){r.setAttribute(t,e.attribute[t]);for(let t of this.dispatchEvents)r.dispatchEvent(new Event(t,{bubbles:!0}))}}},take:async e=>{let r=document.querySelector(e.target);if(r){let n=e;if(e.property){let o={};for(let n in e.property){let e=t(n,r);e.object&&(o[n]=e.object[e.property])}Object.assign(n,{property:o})}if(e.attribute){let t={};for(let n in e.attribute)t[n]=r.getAttribute(n);Object.assign(n,{attribute:t})}this.take.push(n)}},eval:async e=>{let r=document.querySelector(e.target);if(r&&e.property)for(let n in e.property){let o=t(n,r);o.object&&o.object[o.property](e.property[n])}},capture:async t=>{let e=document.querySelector(t.target);if(e)try{await this.captureDOM(t.fileName,e,window,t.format,t.quality)}catch{}},sleep:async t=>{await this.sleep(t.target)},event:async t=>{let e=document.querySelector(t.target);e&&e.dispatchEvent(new Event(t.dispatchEvent,{bubbles:!0}))},save:async t=>{let e=this.J;Object.assign(e,{takes:this.take}),Object.assign(document.createElement("a"),{href:window.URL.createObjectURL(new Blob([JSON.stringify(e)],{type:"application/json"})),download:`${t.fileName}.json`}).click(),this.take=[]}}}async do(t){this.J=t,this.take=[],this.actions=t.actions,this.dispatchEvents=t.dispatchEvents,this.msec=t.sleep;for(let t of this.actions)await this.actionHandler[t.type](t),0!=this.msec&&await this.sleep(this.msec);return Object.assign(t,{stack:this.take})}}class o{constructor(){this.J=null,this.stack=[],this.actions=null,this.dispatchEvents=null,this.msec=null,this.focus=document,this.sleep=t=>new Promise((e=>setTimeout(e,t))),this.actionHandler={set:async e=>{let r=this.focus.querySelector(e.target.selector);if(r){if(e?.target?.property){let n=t(e.target.property,r);n.object&&(r=n.object[n.property])}if(e?.option?.property)for(let n in e.option.property){let o=t(n,r);if(o.object){o.object[o.property]=e.option.property[n];for(let e of this.dispatchEvents){let n=t(e.option.eventObject,window),o=n.object[n.property];r.dispatchEvent(new o(e.option.eventType,e.option.eventArgs))}}}if(e?.option?.attribute)for(let n in e.option.attribute){r.setAttribute(n,e.option.attribute[n]);for(let e of this.dispatchEvents){let n=t(e.option.eventObject,window),o=n.object[n.property];r.dispatchEvent(new o(e.option.eventType,e.option.eventArgs))}}}},push:async e=>{let r=this.focus.querySelector(e.target.selector);if(r){if(e?.target?.property){let n=t(e.target.property,r);n.object&&(r=n.object[n.property])}let n=e;if(e?.option?.property){let o={};for(let n in e.option.property){let e=t(n,r);e.object&&(o[n]=e.object[e.property])}Object.assign(n.option,{property:o})}if(e?.option?.attribute){let t={};for(let n in e.option.attribute)t[n]=r.getAttribute(n);Object.assign(n.option,{attribute:t})}this.stack.push(n)}},call:async e=>{let r=this.focus.querySelector(e.target.selector);if(r){let n=t(e.target.property,r);n.object&&(e?.option?n.object[n.property](e?.option):n.object[n.property]())}},event:async e=>{let r=this.focus.querySelector(e.target.selector);if(r)if(e?.target?.property){let n=t(e.target.property,r);if(n.object){let r=t(e.option.eventObject,window),o=r.object[r.property];n.object[n.property].dispatchEvent(new o(e.option.eventType,Object.assign({target:n.object[n.property],view:window},e.option.eventArgs)))}}else{let n=t(e.option.eventObject,window),o=n.object[n.property];r.dispatchEvent(new o(e.option.eventType,Object.assign({target:r,view:window},e.option.eventArgs)))}},key:async t=>{try{await this.dispatchKeyEvent(t.option)}catch(t){}},sleep:async t=>{await this.sleep(t.option.msec)},open:async t=>{window.location.href=t.option.url},focus:async e=>{let r=this.focus.querySelector(e.target.selector);if(r)if(e?.target?.property){let n=t(e.target.property,r);n.object&&(this.focus=n.object[n.property])}else this.focus=r;e?.target?.reset&&(this.focus=document)},capture:async e=>{let r=this.focus.querySelector(e.target.selector);if(r){if(e?.target?.property){let n=t(e.target.property,r);n.object&&(r=n.object[n.property])}try{await this.captureDOM(e.option.fileName,r,window,e.option.format,e.option.quality)}catch(t){}}},save:async t=>{let e=this.J;Object.assign(e,{stack:this.stack}),Object.assign(this.focus.createElement("a"),{href:window.URL.createObjectURL(new Blob([JSON.stringify(e,null,4)],{type:"application/json"})),download:`${t.option.fileName}.json`}).click(),this.stack=[]}}}async do(t){this.J=t,this.stack=[],this.actions=t.actions,this.dispatchEvents=t.dispatchEvents,this.msec=t.sleep;for(let t of this.actions)await this.actionHandler[t.type](t),0!=this.msec&&await this.sleep(this.msec);return Object.assign(t,{stack:this.stack})}}var i=r(214);const s=t=>"string"==typeof t,a=t=>"object"==typeof t,c=t=>"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object,l=t=>"function"==typeof t,p=t=>"number"==typeof t,u=t=>Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t),f=t=>t instanceof RegExp,y={apply:(t,e,r)=>(t=t.__liquid__?t():t,l(t.then)?h(t.then((t=>Reflect.apply(t,e,r)))):h(t.apply(e,r))),get:(t,e,r)=>(t=t.__liquid__?t():t,"then"!==e&&l(t.then)?h(t.then((t=>t[e].bind(t)))):l(t[e])?h(t[e].bind(t)):t[e])},h=function(t){if(a(t)){const e=()=>t;return e.__liquid__=!0,new Proxy(e,y)}return l(t)?new Proxy(t,y):t},d=function(t,e,r,n="g"){if(!s(r))throw new Error('"str" must be a string');t=[].concat(t),e=s(e)?new Array(t.length).fill(e):[].concat(e);const o=`(${t.map(((t,e)=>`(?<i${e}>${w(t)})`)).join("|")})`,i=new RegExp(o,n);return r=r.replace(i,(function(){const t=arguments[arguments.length-1];let r="";return Object.keys(t).some((n=>{if(void 0!==t[n])return n=parseInt(n.substring(1)),r=void 0===e[n]?"":e[n],!0})),r})),r},m=function(t,e,r){if(!s(t)||!s(e)||!e)throw new Error('"str" must be a string');if(r&&!s(r)&&!u(r))throw new Error('"ignore" must be an array or a string');let n=new RegExp(`${w(e)}+`,"gi");if(void 0!==r){(r=(r=[].concat(r)).map((t=>w(t)))).map((e=>{let r=new RegExp(`(${w(e)})`,"gim");t=t.replace(r,e)})),r=new RegExp(`(${r.join("|")})`,"gim");let o="",i=0,s=[],a=(t,r,a,c)=>{let l=c.substring(i,a).replace(n,e);return s=s.concat([l,r]),i=a+t.length,o=c.substring(i),t};return t.match(r,a)?(t.replace(r,a),s.push(o.replace(n,e)),s.join("")):t.replace(n,e)}return t.replace(n,e)},b=function(t){const e="(?!("+Array.prototype.slice.call(arguments,1).join("|")+"))^",r=new RegExp(e,"g");return null!==t.match(r)},w=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var g=Object.freeze({__proto__:null,replace:d,unify:m,isNot:b,escapeRegExp:w});async function v(t,e){if(!s(t))throw new Error('"url" must be a string representing the resource location');let r=await fetch(t,e);if(r.status>=400)throw new Error(`Fetching the resource ${t} failed with ${r.status} ${r.statusText}`);return r}var j=Object.freeze({__proto__:null,toBlockquote:function(t){let e=(t=>{let e=t.split("\n"),r=[],n=-1,o=null;return e.forEach((t=>{t=(t=>t.replace(/^( *)(>+)( >*)*(?!$)/m,(t=>t.replace(/(\s)*(?!$)/g,""))))(t),o!==t.indexOf(">")&&n++,o=t.indexOf(">"),r[n]||(r[n]=[]),r[n].push(t)})),r})(t),r=[];return e.forEach((t=>{r.push((t=>{if(0!==t[0].indexOf(">"))return t.join("\n");const e=t=>{"\n"===t[t.length-1]&&t.pop()};let r,n,o=0,i=[];for(t.forEach((t=>{for(n=(t+"").trim().match(/^((>)+) *?(.*?$)/ms),r=n[1].length;r>o;)e(i),o++,i.push("<blockquote>");for(;o>r;)e(i),o--,i.push("</blockquote>");i.push(n[3]),i.push("\n")}));o>0;)e(i),o--,i.push("</blockquote>");return i.join("")})(t))})),r.join("")},toEmailLink:t=>t.replace(/[a-zA-Z0-9+._%-]{1,256}@[a-zA-Z0-9][a-zA-Z0-9-]{0,64}(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,25})+/gi,(t=>'<a href="mailto:'+t+'">'+t+"</a>")),toHyperlink:t=>t.replace(/(\b(https?):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,(t=>'<a href="'+t+'">'+t+"</a>")),toLineBreak:t=>t.replace(/(\r\n|\n|\r)/gm,(t=>"<br />")),nameToOrdinal:function(t,e,r=" (\\d)"){const n=r;r=(r=w(r)).replace("\\\\d","(\\d)");const o=new RegExp(`^(${t})?${r}$`,"mi");let i,s=-1;e.forEach((e=>{e===t&&s++,null!==(i=o.exec(e))&&(s=Math.max(s,parseInt(i[2]??0)))}));let a=-1===s?s:++s,c=n.replace("\\d",a);return-1===a?t:`${t}${c}`}});class _{compile(t,e){}}class E{render(t){}}class O extends E{constructor(t){if(super(),!l(t))throw new Error('"fn" must be of type "function"');this.fn=t}render(t){const e=this;try{return e.fn.call({},t)}catch(t){throw new Error(`rendering "data" failed with message ${t.message}`)}}}class x extends _{compile(t,e){e.some((t=>{if(-1!==t.indexOf("-"))throw new Error(`Cannot compile template: Contains invalid key-name: ${t}`)}));const r=this,n=r.getKeys(t),o=r.buildArgumentList(n),i=r.getBlacklistedKeys(o,e||[]);if(i.length)throw new Error(`Cannot compile template: Contains invalid keys: ${i.join(", ")}`);const s=r.getFunctionConfig(o,t),a=r.getNativeFunction(s.args,s.fn);return new O(a)}buildArgumentList(t){let e=t.map((t=>t.split(/\.|\[/)[0]));return[...new Set(e)]}getKeys(t){const e=/\$\{([^}]+)\}/gm,r=[];let n;for(;null!==(n=e.exec(t));)n.index===e.lastIndex&&e.lastIndex++,n.forEach(((t,e)=>{1===e&&r.push(t)}));return r}getBlacklistedKeys(t,e){return e.length?t.filter((t=>-1===e.indexOf(t))):[]}getFunctionConfig(t,e){return{args:`{${t.join(", ")}}`,fn:`return \`${e}\``}}getNativeFunction(t,e){return new Function(t,e)}}class S{render(t){}}class A extends S{constructor(t){super(),this.compiler=new x,this.tpl=t}render(t){const e=this;let r=Object.keys(t),n=r.join(".");return e.compiledTpls=e.compiledTpls||{},e.compiledTpls[n]||(e.compiledTpls[n]=e.compiler.compile(e.tpl,r)),e.compiledTpls[n].render(t)}}var k=Object.freeze({__proto__:null,StringCompiler:x,StringTemplate:A,make:t=>new A(t),Tpl:O}),$=Object.freeze({__proto__:null,esix:k,CompiledTpl:E,Compiler:_,Template:S});Object.freeze({__proto__:null,text:j,template:$,isString:s,isObject:a,isPlainObject:c,isFunction:l,isNumber:p,isArray:u,isRegExp:f,is:function(t){return{a:e=>typeof t===e,of:e=>!!l(e)&&t instanceof e}},listNeighbours:function(t,e){var r,n,o,i=[],s=[];for((i=(i=t.map((function(t){return parseInt(t,10)}))).filter((function(t,e,r){return r.indexOf(t,0)===e}))).sort((function(t,e){return t-e})),n=(r=i.indexOf(parseInt(e,10)))-1;n>=0&&i[n]===i[n+1]-1;n--)s.unshift(i[n]);for(s.push(i[r]),n=r+1,o=i.length;n<o&&i[n]===i[n-1]+1;n++)s.push(i[n]);return s},groupIndices:function(t){var e,r=[];if(!u(t))throw new Error("'list' must be an array");return(e=(e=t.map((function(t){return parseInt(t,10)}))).filter((function(t,e,r){return r.indexOf(t)===e}))).sort((function(t,e){return t-e})),e.reduce((function(t,e,n,o){return e>t+1&&r.push([]),r[r.length-1].push(e),e}),-1),r},createRange:function(t,e){if(!p(t))throw new Error("'start' must be a number");if(!p(e))throw new Error("'end' must be a number");if(t=parseInt(t,10),(e=parseInt(e,10))<t)throw new Error(`"end" (${e}) must be a number equal to or greater than "start" (${t})`);return new Array(e-t+1).fill(void 0).map((function(){return t++}))},findFirst:(t,e)=>{let r=null,n=a(e);return(u(e)?e:n?Object.entries(e):[]).some((e=>n&&e[0]===t?(r=e[1],!0):a(e)&&void 0!==e[t]?(r=e[t],!0):void 0)),r},extract:t=>t.filter(((t,e,r)=>r.indexOf(t)===r.lastIndexOf(t))),obj:function(t){const e=Object.create(null);return Object.assign(e,t),e},lock:function(t,e,r){if(!a(t)||Object.isFrozen(t)||Object.isSealed(t))throw new Error('"target" must be an extensible object.');const n=arguments.length;if(r=arguments[n-1],n<2)throw new Error('"property" must be a valid property name.');if(n>3&&!a(r))throw new Error('"value" must be an object.');if(3===n&&u(e)&&!a(r))throw new Error('"value" must be an object.');let o=u(e);return(o?e:Array.prototype.slice.apply(arguments,[1,n-1])).forEach((e=>{if(!s(e))throw new Error('"property" must be a valid property name.');Object.defineProperty(t,e,{writable:!1,configurable:!1,value:n>3||o?r[e]:r})})),t},visit:function(t,e){const r=(t,n)=>(Object.entries(t).map((([o,i])=>{const s=n.concat(o);t[o]=a(i)?r(i,s):e(i,s)})),t);return r(t,[]),t},chain:function(t,e={},r,n=!1){return(t=[].concat(t)).forEach((t=>{const o=u(t)?[].concat(t):t.split("."),i=(e,o)=>{let s=o.shift();return e[s]&&(!0!==n||o.length)||(e[s]=o.length?{}:l(r)?r(t):r),o.length&&i(e[s],o),e};i(e,o)})),e},flip:function(t){return Object.assign({},...Object.entries(t).map((([t,e])=>({[e]:t}))))},purge:function(t,e){return Object.fromEntries(Object.entries(t).filter((([,t])=>t!==e)))},unchain:function(t,e,r,n="."){for(var o=u(t)?[].concat(t):t.split(n),i=e;void 0!==i&&o.length;)i=i[o.shift()];return l(r)?r(i):void 0===i?r:i},assign:function(t){let e=Array.prototype.slice.call(arguments,1);return e=e.map((t=>{if(c(t))return t;if(u(t)){const[e,...r]=t,n=r[0];return Object.fromEntries(Object.entries(e).filter((t=>{let e=t[0];return f(n)?null!==e.match(n):b.apply(g,[e].concat(r))})))}})),Object.assign(t,...e)},replace:d,unify:m,isNot:b,escapeRegExp:w,ping:async function(t){let e;try{e=await v(t,{method:"HEAD"}),await e.text()}catch(t){return!1}return 200===e.status},load:async function(t){const e=await v(t,{method:"GET"});return await e.text()},request:v,md5:t=>i(t).toString(),liquify:h});class B{async do(t){return await{0:async()=>{let r=new e;return r.captureDOM=this.captureDOM,await r.do(t)},1:async()=>{let e=new o;return e.captureDOM=this.captureDOM,e.dispatchKeyEvent=this.dispatchKeyEvent,await e.do(t)}}[t.meta.version]()}}const q=async(t={_scope_:null})=>{let e=[];return Object.keys(t).filter((t=>!["_scope_"].includes(t))).forEach((r=>{[...t._scope_.querySelectorAll(r)].filter((t=>t)).forEach((t=>{e.push({element:t,selector:new String(r)})}))})),await Promise.all(e.map((e=>new Promise((async(r,n)=>{try{await t[e.selector]({element:e.element,selector:e.selector,self:t}),r(e.selector)}catch(t){console.info("walkHorizontally |",t)}}))))),t},z=async(t={_scope_:null})=>{for(let e of Object.keys(t).filter((t=>!["_scope_"].includes(t)))){let r=[...t._scope_.querySelectorAll(e)].filter((t=>t));for(let n of r)try{await t[e]({element:n,selector:new String(e),self:t})}catch(t){console.info("walkVertically |",t)}}return t},P=async(e=document)=>{await q({_scope_:e,"[capture]":async t=>{let e=document.querySelector(t.element.attributes.capture.value).tagName.toLowerCase();t.element.setAttribute("sync",""),t.element.setAttribute("sync-to-this",""),"input"==e?(t.element.setAttribute("sync-to-property","textContent"),t.element.setAttribute("sync-from",t.element.attributes.capture.value),t.element.setAttribute("sync-from-property","value"),t.element.setAttribute("sync-event",JSON.stringify(["sync","change","input"]))):"select"==e&&(t.element.setAttribute("sync-to-property","textContent"),t.element.setAttribute("sync-from",t.element.attributes.capture.value),t.element.setAttribute("sync-from-property","selectedOptions.0.textContent"),t.element.setAttribute("sync-event",JSON.stringify(["sync","change"]))),t.element.removeAttribute("capture")}}),await z({_scope_:e,"[sync]":async e=>{let r=()=>{n()},n=()=>{e.element.SyncView={from:e.element.attributes["sync-from-this"]?e.element:document.querySelector(e.element.attributes["sync-from"].value),fromProperty:e.element.attributes["sync-from-property"].value,to:e.element.attributes["sync-to-this"]?e.element:document.querySelector(e.element.attributes["sync-to"].value),toProperty:e.element.attributes["sync-to-property"].value,events:JSON.parse(e.element.attributes["sync-event"]?e.element.attributes["sync-event"].value:'["sync"]'),entryNop:e.element.attributes["sync-entry-nop"],init:r},e.element.SyncView.sync=()=>{let r=t(e.element.SyncView.fromProperty,e.element.SyncView.from),n=t(e.element.SyncView.toProperty,e.element.SyncView.to);try{n.object[n.property]=r.object[r.property]}catch{}},!e.element.SyncView.entryNop&&e.element.SyncView.sync(),e.element.SyncView.events.forEach((t=>{e.element.SyncView.from.addEventListener(t,(t=>{e.element.SyncView.sync(),e.element.SyncView.to.dispatchEvent(new Event("sync"))}))}))};r()},sync:async e=>{e.element.SyncView={Syncs:[]};let r=JSON.parse(e.element.textContent),n=t=>{o(t)},o=r=>{let o=r.separator?r.separator:".",i=r.from.split(o),s=r.to.split(o),a=r.events,c=e.self._scope_.querySelector(i[0]),l=e.self._scope_.querySelector(s[0]),p={separator:o,from:c,fromProperty:i.slice(1).join(o),to:l,toProperty:s.slice(1).join(o),events:a,entryNop:r.entryNop,init:n,sync:()=>{let e=t(p.fromProperty,p.from,p.separator),r=t(p.toProperty,p.to,p.separator);try{r.object[r.property]=e.object[e.property]}catch{}}};p.events.forEach((t=>{p.from.addEventListener(t,(t=>{p.sync(),p.to.dispatchEvent(new Event("sync"))}))})),!p.entryNop&&p.sync(),e.element.SyncView.Syncs.push(p)};Array.prototype==r.__proto__&&r.forEach((t=>{n(t)})),Object.prototype==r.__proto__&&n(r)}})},T=async(t={},e=document)=>{let r={values:{},flesh:()=>{Object.keys(r.values).forEach((t=>{r.values[`${t}`].set(r.values[t].value)}))}};return Object.keys(t).forEach((n=>{r.values[`${n}`]={value:t[n],origin:t[n],set:t=>{r.values[n].value=t,[...e.querySelectorAll(`[setTextContent="${n}"]`)].forEach((e=>{e.textContent=t})),r.values[n].value=t,[...e.querySelectorAll(`[setValue="${n}"]`)].forEach((e=>{e.value=t}))}},r.values[`${n}`].set(t[n])})),r},C={Automation:{BlueFox:B},Walker:{walkHorizontally:q,walkVertically:z},Sync:{view:P,value:T}}})();var o=n.fB,i=n.hi,s=n.S3,a=n.ei,c=n.qz,l=n.rP;export{o as BlueFox,i as BlueFoxJs,s as value,a as view,c as walkHorizontally,l as walkVertically};