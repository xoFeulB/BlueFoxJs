var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};t.d(n,{z:()=>s});const r=(e,t,n=".")=>{let l=e.split(n)[0],o=e.split(n).slice(1).join(n);if(null!=t[l]){let c=r(o,t[l],n);return!0===c?{object:t,property:l,path:e,separator:n,value:t[l]}:c}return e==o},l=e=>{const t=Object.getOwnPropertyNames(e);for(const n of t){const t=e[n];t&&"object"==typeof t&&l(t)}return Object.freeze(e)},o=async(e={_scope_:null})=>{let t=[];return Object.keys(e).filter((e=>!["_scope_"].includes(e))).forEach((n=>{[...e._scope_.querySelectorAll(n)].filter((e=>e)).forEach((e=>{t.push({element:e,selector:new String(n)})}))})),await Promise.all(t.map((t=>new Promise((async(n,r)=>{try{await e[t.selector]({element:t.element,selector:t.selector,self:e}),n(t.selector)}catch(e){console.info("walkHorizontally |",e)}}))))),e},c=async(e={_scope_:null})=>{for(let t of Object.keys(e).filter((e=>!["_scope_"].includes(e)))){let n=[...e._scope_.querySelectorAll(t)].filter((e=>e));for(let r of n)try{await e[t]({element:r,selector:new String(t),self:e})}catch(e){console.info("walkVertically |",e)}}return e},s=l({Util:{getProperty:r},Walker:{walkHorizontally:o,walkVertically:c},Sync:{view:async(t=document)=>{await o({_scope_:t,"[capture]":async e=>{let t=document.querySelector(e.element.attributes.capture.value).tagName.toLowerCase();e.element.setAttribute("sync",""),e.element.setAttribute("sync-to-this",""),"input"==t?(e.element.setAttribute("sync-to-property","textContent"),e.element.setAttribute("sync-from",e.element.attributes.capture.value),e.element.setAttribute("sync-from-property","value"),e.element.setAttribute("sync-event",JSON.stringify(["sync","change","input"]))):"select"==t&&(e.element.setAttribute("sync-to-property","textContent"),e.element.setAttribute("sync-from",e.element.attributes.capture.value),e.element.setAttribute("sync-from-property","selectedOptions.0.textContent"),e.element.setAttribute("sync-event",JSON.stringify(["sync","change"]))),e.element.removeAttribute("capture")}}),await c({_scope_:t,"sync,[sync]":async t=>{let n=()=>{l()},l=()=>{t.element.SyncView={from:t.element.attributes["sync-from-this"]?e:document.querySelector(t.element.attributes["sync-from"].value),fromProperty:t.element.attributes["sync-from-property"].value,to:t.element.attributes["sync-to-this"]?t.element:document.querySelector(t.element.attributes["sync-to"].value),toProperty:t.element.attributes["sync-to-property"].value,event:JSON.parse(t.element.attributes["sync-event"]?t.element.attributes["sync-event"].value:'["sync"]'),entryNop:t.element.attributes["sync-entry-nop"],init:n},t.element.SyncView.sync=()=>{let e=r(t.element.SyncView.fromProperty,t.element.SyncView.from),n=r(t.element.SyncView.toProperty,t.element.SyncView.to);try{n.object[n.property]=e.object[e.property]}catch{}},!t.element.SyncView.entryNop&&t.element.SyncView.sync(),t.element.SyncView.event.forEach((e=>{t.element.SyncView.from.addEventListener(e,(e=>{t.element.SyncView.sync(),t.element.SyncView.to.dispatchEvent(new Event("sync"))}))}))};n()}})}}});var y=n.z;export{y as BlueFoxQuery};