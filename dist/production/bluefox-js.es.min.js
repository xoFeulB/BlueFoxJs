var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{T:()=>X});const n=t=>{const e=Object.getOwnPropertyNames(t);for(const r of e){const e=t[r];e&&"object"==typeof e&&n(e)}return Object.freeze(t)},r=(t,e,n=".")=>{let o=t.split(n)[0],i=t.split(n).slice(1).join(n);if(null!=e[o]){let c=r(i,e[o],n);return!0===c?{object:e,property:o,path:t,separator:n,value:e[o]}:c}return t==i},o=t=>{if("object"!=typeof t)return[];let e=[];for(let n in t){let r=t[n];if("object"==typeof r)o(r).forEach((t=>{e.push({path:[n,t.path].flat(),value:t.value,type:typeof t.value})}));else{let t={path:n,value:r,type:typeof r};e.push(t)}}return e};function i(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}const c={NONE:"",DESCENDANT:" ",CHILD:" > "},l={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},u="CssSelectorGenerator";function a(t="unknown problem",...e){console.warn(`${u}: ${t}`,...e)}const s={selectors:[l.id,l.class,l.tag,l.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY};function f(t){return t instanceof RegExp}function d(t){return["string","function"].includes(typeof t)||f(t)}function p(t){return Array.isArray(t)?t.filter(d):[]}function m(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function h(t,e){if(m(t))return t.contains(e)||a("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return m(n)?(n!==document&&a("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):v(e)}function g(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function y(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function b(t){return[].concat(...t)}function N(t){const e=t.map((t=>{if(f(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(a("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return a("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function w(t,e,n){const r=Array.from(h(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function E(t,e){e=null!=e?e:v(t);const n=[];let r=t;for(;i(r)&&r!==e;)n.push(r),r=r.parentElement;return n}function S(t,e){return y(t.map((t=>E(t,e))))}function v(t){return t.ownerDocument.querySelector(":root")}const I=new RegExp(["^$","\\s"].join("|")),O=new RegExp(["^$"].join("|")),T=[l.nthoftype,l.tag,l.id,l.class,l.attribute,l.nthchild],j=N(["class","id","ng-*"]);function C({name:t}){return`[${t}]`}function A({name:t,value:e}){return`[${t}='${e}']`}function x({nodeName:t,nodeValue:e}){return{name:W(t),value:W(null!=e?e:void 0)}}function _(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||j(t))}(e,t))).map(x);return[...e.map(C),...e.map(A)]}function $(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!O.test(t))).map((t=>`.${W(t)}`))}function k(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${W(n)}`,o=t.getRootNode({composed:!1});return!I.test(n)&&w([t],r,o)?[r]:[]}function D(t){const e=t.parentNode;if(e){const n=Array.from(e.childNodes).filter(i).indexOf(t);if(n>-1)return[`:nth-child(${String(n+1)})`]}return[]}function P(t){return[W(t.tagName.toLowerCase())]}function R(t){const e=[...new Set(b(t.map(P)))];return 0===e.length||e.length>1?[]:[e[0]]}function L(t){const e=R([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function V(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=M(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=F(r,t.length-1)}}(t,{maxResults:e}))}function F(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return M(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?M(n+1):r}function M(t=1){return Array.from(Array(t).keys())}const q=":".charCodeAt(0).toString(16).toUpperCase(),H=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function W(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${q} `:H.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const Y={tag:R,id:function(t){return 0===t.length||t.length>1?[]:k(t[0])},class:function(t){return y(t.map($))},attribute:function(t){return y(t.map(_))},nthchild:function(t){return y(t.map(D))},nthoftype:function(t){return y(t.map(L))}},B={tag:P,id:k,class:$,attribute:_,nthchild:D,nthoftype:L};function z(t){return t.includes(l.tag)||t.includes(l.nthoftype)?[...t]:[...t,l.tag]}function U(t={}){const e=[...T];return t[l.tag]&&t[l.nthoftype]&&e.splice(e.indexOf(l.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function G(t,e,n="",r){const o=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+c.DESCENDANT+t)),...t.map((t=>e+c.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=N(n),l=N(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,Y[e])(t)}(t,n),u=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,l),a=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(u,l);return e[n]=o?V(a,{maxResults:i}):a.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?V(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(z):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(U)}(e,t))).filter((t=>t.length>0))}(r,n),i=b(o);return[...new Set(i)]}(t,0,r),n);for(const n of o)if(w(t,n,e))return n;return null}function J(t){return{value:t,include:!1}}function K({selectors:t,operator:e}){let n=[...T];t[l.tag]&&t[l.nthoftype]&&(n=n.filter((t=>t!==l.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function Q(t){return[":root",...E(t).reverse().map((t=>{const e=function(t,e,n=c.NONE){const r={};return e.forEach((e=>{Reflect.set(r,e,function(t,e){return B[e](t)}(t,e).map(J))})),{element:t,operator:n,selectors:r}}(t,[l.nthchild],c.CHILD);return e.selectors.nthchild.forEach((t=>{t.include=!0})),e})).map(K)].join("")}const X={Util:{deepFreeze:n,getProperty:r,getAllPath:o},Walker:{walkHorizontally:async(t={_scope_:null})=>{let e=[];return Object.keys(t).filter((t=>!["_scope_"].includes(t))).forEach((n=>{[...t._scope_.querySelectorAll(n)].filter((t=>t)).forEach((t=>{e.push({element:t,selector:new String(n)})}))})),await Promise.all(e.map((e=>new Promise((async(n,r)=>{try{await t[e.selector]({element:e.element,selector:e.selector,self:t}),n(e.selector)}catch(t){console.info("walkHorizontally |",t)}}))))),t},walkVertically:async(t={_scope_:null})=>{for(let e of Object.keys(t).filter((t=>!["_scope_"].includes(t)))){let n=[...t._scope_.querySelectorAll(e)].filter((t=>t));for(let r of n)try{await t[e]({element:r,selector:new String(e),self:t})}catch(t){console.info("walkVertically |",t)}}return t}},Selector:{getCssSelector:function t(e,n={}){var r;const o=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(i);return[...new Set(e)]}(e),c=function(t,e={}){const n=Object.assign(Object.assign({},s),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=l,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:p(n.whitelist),blacklist:p(n.blacklist),root:h(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:g(n.maxCombinations),maxCandidates:g(n.maxCandidates)};var r}(o[0],n),u=null!==(r=c.root)&&void 0!==r?r:v(o[0]);let a="",f=u;function d(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...S(t,e).map((t=>[t]))];for(const t of o){const o=G(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(o,f,a,c)}let m=d();for(;m;){const{foundElements:t,selector:e}=m;if(w(o,e,u))return e;f=t[0],a=e,m=d()}return o.length>1?o.map((e=>t(e,c))).join(", "):function(t){return t.map(Q).join(", ")}(o)}}};var Z=e.T;export{Z as BlueFoxJs};